apiVersion: skaffold/v2beta9
kind: Config

deploy: 
  kubectl:
    manifests:
    - ./infra/k8s/*
build:
  tagPolicy:
    sha256: {}
  local:
    push: false
  artifacts:
    - image: guerrerocristian/client
      context: client #directory
      docker:
        dockerfile: Dockerfile
      sync:
        infer:
          - 'package.json'
          - './'
    - image: guerrerocristian/commnets
      context: comments #directory
      docker:
        dockerfile: Dockerfile
      sync: 
        infer:
          - 'package.json'
          - './'
    - image: guerrerocristian/event-bus
      context: event-bus #directory
      docker:
        dockerfile: Dockerfile
      sync: 
        infer:
          - 'package.json'
          - './'
    - image: guerrerocristian/moderation
      context: moderation #directory
      docker:
        dockerfile: Dockerfile
      sync: 
        infer:
          - 'package.json'
          - './'
    - image: guerrerocristian/posts
      context: posts #directory
      docker:
        dockerfile: Dockerfile
      sync: 
        infer:
          - 'package.json'
          - './'
    - image: guerrerocristian/query
      context: query #directory
      docker:
        dockerfile: Dockerfile
      sync: 
        infer:
          - 'package.json'
          - './'
